"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6645],{11951:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(78340).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},76645:(e,a,r)=>{r.d(a,{default:()=>j});var t=r(95155),s=r(12115),l=r(50807),d=r(86277),i=r(98500),c=r.n(i),n=r(78340);let o=(0,n.A)("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);var x=r(94961),g=r(84980),y=r(52484),m=r(11951);let h=(0,n.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var b=r(48368),u=r(66609),p=r(99776),f=r(5669);let j=({setHideNavs:e})=>{let a,r,i,n,[j,k]=(0,s.useState)([]),[N,v]=(0,s.useState)(!0),[w,A]=(0,s.useState)(null),[z,S]=(0,s.useState)(1),[q,C]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&e(!!q)},[q,e]);let[M,$]=(0,s.useState)(!1),[_,T]=(0,s.useState)("all"),[Z,R]=(0,s.useState)("all"),[B,E]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{(async()=>{try{let e=await (0,f.Ud)("/api/quizzes");if(e.ok){let a=await e.json();k(a);let r=a.length,t=0,s=0,l=0;a.forEach(e=>{if(e.performances&&e.performances.length>0){l++,t+=e.performances.length;let a={};e.performances.forEach(e=>{let r=e.userId.toString();(!a[r]||e.percentage>a[r])&&(a[r]=e.percentage)}),s+=Object.values(a).reduce((e,a)=>e+a,0)}});let d=l>0?Math.round(s/l):0;A({totalTests:r,completedTests:l,totalAttempts:t,averageScore:d})}else u.oR.error("Failed to fetch quizzes")}catch(e){u.oR.error("An error occurred while fetching quizzes")}finally{v(!1),$(!0)}})()},[]),q)?(0,t.jsx)(p.A,{quizData:q,topic:q.course,onBack:()=>C(null)}):(0,t.jsxs)("div",{className:"p-4 sm:p-8 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen",children:[(0,t.jsxs)("header",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold tracking-tight flex items-center",children:[(0,t.jsx)(o,{className:"w-8 h-8 mr-3 text-blue-500"}),"Test Your Knowledge"]}),(0,t.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Challenge yourself with quizzes on various topics."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(l.Zp,{className:`bg-blue-50 dark:bg-gray-800 border border-blue-200 dark:border-gray-700 shadow-none py-3 gap-3 transition-opacity duration-500 ${M?"opacity-100":"opacity-0"}`,children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-1",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium text-blue-600 dark:text-gray-400",children:"Total Tests"}),(0,t.jsx)(x.A,{className:"w-6 h-6 text-blue-500 dark:text-gray-500"})]}),(0,t.jsxs)(l.Wu,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:N?"...":j.length}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Assignments & Quizzes"})]})]}),(0,t.jsxs)(l.Zp,{className:`bg-yellow-50 dark:bg-gray-800 border border-yellow-200 dark:border-gray-700 shadow-none py-3 gap-3 transition-opacity duration-500 ${M?"opacity-100":"opacity-0"}`,children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-1",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium text-yellow-600 dark:text-gray-400",children:"Pending"}),(0,t.jsx)(g.A,{className:"w-6 h-6 text-yellow-500 dark:text-gray-500"})]}),(0,t.jsxs)(l.Wu,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:N?"...":j.length}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Need completion"})]})]}),(0,t.jsxs)(l.Zp,{className:`bg-green-50 dark:bg-gray-800 border border-green-200 dark:border-gray-700 shadow-none py-3 gap-3 transition-opacity duration-500 ${M?"opacity-100":"opacity-0"}`,children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-1",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium text-green-600 dark:text-gray-400",children:"Completed Tests"}),(0,t.jsx)(y.A,{className:"w-6 h-6 text-green-500 dark:text-gray-500"})]}),(0,t.jsxs)(l.Wu,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:N?"...":w?.completedTests||0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Out of ",w?.totalTests||0," tests"]})]})]}),(0,t.jsxs)(l.Zp,{className:`bg-purple-50 dark:bg-gray-800 border border-purple-200 dark:border-gray-700 shadow-none py-3 gap-3 transition-opacity duration-500 ${M?"opacity-100":"opacity-0"}`,children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-1",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium text-purple-600 dark:text-gray-400",children:"Average Score"}),(0,t.jsx)(m.A,{className:"w-6 h-6 text-purple-500 dark:text-gray-500"})]}),(0,t.jsxs)(l.Wu,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:N?"...":`${w?.averageScore||0}%`}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Across all completed tests"})]})]})]}),(0,t.jsxs)("div",{className:`bg-indigo-50 dark:bg-gray-800 p-6 rounded-lg border border-indigo-200 dark:border-gray-700 transition-opacity duration-500 ${M?"opacity-100":"opacity-0"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Available Quizzes"}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>E(!B),className:"mt-2 sm:mt-0",children:[(0,t.jsx)(h,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),B&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Difficulty"}),(0,t.jsxs)("select",{value:_,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)("option",{value:"all",children:"All Difficulties"}),(0,t.jsx)("option",{value:"beginner",children:"Beginner"}),(0,t.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,t.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:Z,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)("option",{value:"all",children:"All Tests"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})]})]}),("all"!==_||"all"!==Z)&&(0,t.jsx)("div",{className:"mt-4 flex gap-2",children:(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{T("all"),R("all")},children:"Clear Filters"})})]}),N?(0,t.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading quizzes..."}):0===j.length?(0,t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,t.jsx)("p",{className:"mb-2",children:"No quizzes available yet."}),(0,t.jsxs)("p",{children:["Go to the"," ",(0,t.jsx)(c(),{href:"/dashboard?tab=generate",className:"text-blue-500 hover:underline",children:"Generate"})," ","page to create one."]})]}):(0,t.jsx)("div",{className:"space-y-4",children:(r=Math.ceil((a=j.filter(e=>{if("all"!==_&&e.difficulty!==_)return!1;if("all"!==Z){let a=`quiz_completed_${e._id}`,r=localStorage.getItem(a);if("completed"===Z&&!r||"pending"===Z&&r)return!1}return!0})).length/6),i=(z-1)*6,n=a.slice(i,i+6),(0,t.jsxs)(t.Fragment,{children:[n.map(e=>{let a,r={easy:"bg-blue-50 dark:bg-gray-800 border-blue-200 dark:border-gray-700",medium:"bg-orange-50 dark:bg-gray-800 border-orange-200 dark:border-gray-700",hard:"bg-purple-50 dark:bg-gray-800 border-purple-200 dark:border-gray-700"}[e.difficulty]||"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700";return(0,t.jsxs)("div",{className:`flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 rounded-lg border hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors ${r}`,children:[(0,t.jsxs)("div",{className:"mb-4 sm:mb-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.course}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"w-3 h-3 mr-1"}),e.questions.length," questions"]}),e.createdAt&&(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(g.A,{className:"w-3 h-3 mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(d.$,{variant:"default",onClick:()=>C(e),className:`${"easy"===e.difficulty?"bg-blue-500 hover:bg-blue-600 text-white":"medium"===e.difficulty?"bg-orange-500 hover:bg-orange-600 text-white":"hard"===e.difficulty?"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-500 hover:bg-gray-600 text-white"}`,children:(a=`quiz_completed_${e._id}`,localStorage.getItem(a)?"Review Test":"Take Test")})})]},e._id)}),r>1&&(0,t.jsxs)("div",{className:"flex justify-center mt-6 space-x-2",children:[(0,t.jsx)("button",{onClick:()=>S(e=>Math.max(e-1,1)),disabled:1===z,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-gray-600",children:"Previous"}),Array.from({length:r},(e,a)=>a+1).map(e=>(0,t.jsx)("button",{onClick:()=>S(e),className:`px-3 py-1 text-sm rounded ${z===e?"bg-indigo-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:e},e)),(0,t.jsx)("button",{onClick:()=>S(e=>Math.min(e+1,r)),disabled:z===r,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-gray-600",children:"Next"})]})]}))})]})]})}}}]);