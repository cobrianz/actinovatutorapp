"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9776],{14858:(e,t,s)=>{s.d(t,{S:()=>o});var r=s(95155);s(12115);var a=s(47279),i=s(94514),l=s(68310);function o({className:e,...t}){return(0,r.jsx)(a.bL,{"data-slot":"checkbox",className:(0,l.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,r.jsx)(a.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,r.jsx)(i.A,{className:"size-3.5"})})})}},46424:(e,t,s)=>{s.d(t,{C:()=>n,z:()=>o});var r=s(95155);s(12115);var a=s(31620),i=s(16950),l=s(68310);function o({className:e,...t}){return(0,r.jsx)(a.bL,{"data-slot":"radio-group",className:(0,l.cn)("grid gap-3",e),...t})}function n({className:e,...t}){return(0,r.jsx)(a.q7,{"data-slot":"radio-group-item",className:(0,l.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,r.jsx)(a.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}},50807:(e,t,s)=>{s.d(t,{Wu:()=>n,ZB:()=>o,Zp:()=>i,aR:()=>l});var r=s(95155);s(12115);var a=s(68310);function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}},54045:(e,t,s)=>{s.d(t,{J:()=>l});var r=s(95155);s(12115);var a=s(91760),i=s(68310);function l({className:e,...t}){return(0,r.jsx)(a.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},68310:(e,t,s)=>{s.d(t,{cn:()=>i});var r=s(29722),a=s(622);function i(...e){return(0,a.QP)((0,r.$)(e))}},86277:(e,t,s)=>{s.d(t,{$:()=>n});var r=s(95155);s(12115);var a=s(42442),i=s(18460),l=s(68310);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function n({className:e,variant:t,size:s,asChild:i=!1,...n}){let d=i?a.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,l.cn)(o({variant:t,size:s,className:e})),...n})}},98126:(e,t,s)=>{s.d(t,{I:()=>d,O:()=>n});var r=s(18831);let a=[37,99,235],i=[31,41,55],l=[107,114,128],o=[229,231,235],n=async(e,t="course")=>{if(!e)throw Error("No data provided");let s=new r.Ay({orientation:"portrait",unit:"mm",format:"a4"}),n=25,d=(e,t)=>{s.setDrawColor(...o),s.setLineWidth(.2),s.line(20,15,190,15),s.line(20,282,190,282),s.setFont("helvetica","normal"),s.setFontSize(8),s.setTextColor(...l),s.text("Actinova AI Tutor - Personalized Learning",20,287),s.text("Copyright \xa9 Actinova AI Tutor. All rights reserved.",105,287,{align:"center"}),s.text(`Page ${e} of ${t}`,190,287,{align:"right"})},c=e=>n+e>272&&(s.addPage(),n=25,!0);s.setFillColor(255,255,255),s.rect(0,0,210,297,"F"),n=40;try{s.addImage("/logo.png","PNG",85,n,40,40),n+=45}catch(e){n=80}n+=16,s.setTextColor(...i),s.setFont("helvetica","bold"),s.setFontSize(48),s.text("ACTINOVA",105,n,{align:"center"}),n+=12,s.setFontSize(24),s.text("AI TUTOR PLATFORM",105,n,{align:"center"}),n=150;let x=s.splitTextToSize(e.title||"Study Material",150),h=12*x.length;s.setDrawColor(...a),s.setLineWidth(.5),s.roundedRect(15,n-15,180,40+h+20,2,2,"D"),s.setTextColor(...a),s.setFontSize(14),s.text("NOTES"===t.toUpperCase()?"PERSONALIZED STUDY NOTES":"PERSONALIZED COURSE MATERIAL",105,n,{align:"center"}),n+=15,s.setTextColor(...i),s.setFontSize(28),s.text(x,105,n,{align:"center"}),n+=12*x.length+10,s.setFontSize(12),s.setTextColor(...l),s.text(`Generated on ${new Date().toLocaleDateString()}`,105,n,{align:"center"}),s.addPage(),n=30;let u=(e,t,r=11)=>{s.setFontSize(r),s.setFont("helvetica","normal"),s.setTextColor(...i);let a=e.replace(/\*\*\*([^*]+)\*\*\*/g,"$1").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/__([^_]+)__/g,"$1").replace(/_([^_]+)_/g,"$1").replace(/~~([^~]+)~~/g,"$1").replace(/`([^`]+)`/g,"$1").trim();s.splitTextToSize(a,170-(t-20)).forEach(e=>{c(8),s.text(e,t,n),n+=7})},g=(e,t=null)=>{if(!e)return;let r=e.split("\n"),d=!1,x=!1,h=!0;r.forEach(e=>{let r=e.trim();if(r.startsWith("```")){d=!d,n+=2,h=!1;return}if(d){s.setFont("courier","normal"),s.setFontSize(10),s.setFillColor(245,245,245),s.rect(22,n-4,166,6,"F"),s.text(e,24,n),n+=6,s.setFont("helvetica","normal"),h=!1;return}if(["---","***","___"].includes(r)){c(10),n+=5,s.setDrawColor(...o),s.setLineWidth(.5),s.line(20,n,190,n),n+=8,h=!1;return}if(!r){n+=5,h=!1;return}if(c(12),r.startsWith("# Module: ")||r.startsWith("MODULE: ")||r.startsWith("Module: ")){h=!1;return}if(r.startsWith("## LESSON: ")||r.startsWith("LESSON: ")||r.startsWith("Lesson: ")){n+=5,s.setFont("helvetica","bold"),s.setFontSize(20),s.setTextColor(...a);let e=r.replace(/^##\s*/,"").replace(/^LESSON:\s*/i,"");e=e.toUpperCase();let t=s.splitTextToSize(e,170);s.text(t,20,n),n+=10*t.length;let i=s.getTextWidth(t[t.length-1]);s.setDrawColor(...a),s.setLineWidth(.8),s.line(20,n-2,20+i,n-2),n+=5,h=!1;return}if(h&&!r.startsWith("#")&&!r.startsWith("##")&&!r.startsWith("###")&&!r.startsWith("> ")&&!r.match(/^[-*•]\s/)&&!r.match(/^\d+\.\s/)){n+=5,s.setFont("helvetica","bold"),s.setFontSize(26),s.setTextColor(...a);let e=s.splitTextToSize(r,160);s.text(e,20,n),n+=12*e.length+8,h=!1;return}if(h=!1,r.startsWith("# ")){let e=r.substring(2).replace(/[\*_]/g,"").trim();if(!x&&t&&e.toLowerCase().includes(t.toLowerCase())){x=!0;return}n+=5,s.setFont("helvetica","bold"),s.setFontSize(26),s.setTextColor(...a);let i=s.splitTextToSize(e,170);s.text(i,20,n),n+=12*i.length+8}else if(r.startsWith("## ")){n+=5,s.setFont("helvetica","bold"),s.setFontSize(20),s.setTextColor(...a);let e=r.substring(3).replace(/[\*_]/g,"").trim(),t=s.splitTextToSize(e,170);s.text(t,20,n),n+=10*t.length;let i=s.getTextWidth(t[t.length-1]);s.setDrawColor(...a),s.setLineWidth(.8),s.line(20,n-2,20+i,n-2),n+=5}else if(r.startsWith("### ")){n+=4,s.setFont("helvetica","bold"),s.setFontSize(16),s.setTextColor(...i);let e=r.substring(4).replace(/[\*_]/g,"").trim(),t=s.splitTextToSize(e,170);s.text(t,20,n),n+=9*t.length+4}else if(r.startsWith("#### ")){n+=3,s.setFont("helvetica","bold"),s.setFontSize(14),s.setTextColor(...i);let e=r.substring(5).replace(/[\*_]/g,"").trim(),t=s.splitTextToSize(e,170);s.text(t,20,n),n+=8*t.length+3}else if(r.startsWith("> ")){let e=r.substring(2).trim();s.setFont("helvetica","italic"),s.setTextColor(...l);let t=s.splitTextToSize(e,160);c(6*t.length+4),s.setDrawColor(...o),s.setLineWidth(1),s.line(22,n-4,22,n+6*t.length-4),s.text(t,28,n),n+=6*t.length+4,s.setFont("helvetica","normal")}else if(r.match(/^[-*•]\s/))s.setFont("helvetica","bold"),s.setTextColor(...a),s.text("•",22,n),u(r.replace(/^[-*•]\s/,""),28);else if(r.match(/^\d+\.\s/)){let e=r.match(/^\d+\./)[0];s.setFont("helvetica","bold"),s.setTextColor(...a),s.text(e,20,n),u(r.replace(/^\d+\.\s/,""),30)}else u(r,20)})};if("course"===t){let t=e.modules||e.courseData?.modules||[];s.setFont("helvetica","bold"),s.setFontSize(24),s.setTextColor(...a),s.text("Table of Contents",20,n),n+=15,t.forEach((e,t)=>{c(12),s.setFontSize(12),s.setFont("helvetica","normal"),s.setTextColor(...i),s.text(`Module ${t+1}: ${e.title}`,20,n),n+=8}),t.forEach((e,t)=>{s.addPage(),n=35,e.lessons?.forEach((e,r)=>{c(20),s.setFont("helvetica","bold"),s.setFontSize(16),s.setTextColor(...i),s.text(`${t+1}.${r+1} ${e.title||e}`,20,n),n+=12,e.content&&g(e.content,e.title||e),n+=10})})}else g(e.content,e.title);let m=s.internal.pages.length-1;for(let e=1;e<=m;e++)s.setPage(e),d(e,m);let p=`${e.title?.replace(/\s+/g,"_").toLowerCase()||"actinova_study"}.pdf`;if(window.Capacitor||"capacitor:"===window.location.protocol)try{let t=s.output("datauristring").split(",")[1],{Filesystem:r,Directory:a}=await Promise.resolve().then(function(){var e=Error("Cannot find module '@capacitor/filesystem'");throw e.code="MODULE_NOT_FOUND",e}),{Share:i}=await Promise.resolve().then(function(){var e=Error("Cannot find module '@capacitor/share'");throw e.code="MODULE_NOT_FOUND",e}),l=await r.writeFile({path:p,data:t,directory:a.Cache});await i.share({title:"Actinova PDF Download",text:`Personalized material for ${e.title}`,url:l.uri,dialogTitle:"Open PDF"})}catch(e){console.error("Capacitor PDF error:",e),s.save(p)}else s.save(p)},d=async e=>{if(!e||!e.questions)throw Error("No data provided");let t=new r.Ay({orientation:"portrait",unit:"mm",format:"a4"}),s=40,n=(s,r)=>{t.setDrawColor(...o),t.setLineWidth(.2),t.line(20,15,190,15),t.setFontSize(8),t.setTextColor(...l),t.text(`Actinova AI Tutor - Assessment: ${e.title}`,20,12),s&&t.text(`Page ${s} of ${r}`,190,12,{align:"right"})};n(),t.setFont("helvetica","bold"),t.setFontSize(24),t.setTextColor(...a),t.text("ASSESSMENT PAPER",105,s,{align:"center"}),s+=12,t.setFontSize(14),t.setTextColor(...l),t.text(`Subject: ${e.topic||"General Knowledge"}`,105,s,{align:"center"}),s+=20,t.setDrawColor(...a),t.setLineWidth(1),t.line(20,s,190,s),s+=15,e.questions.forEach((e,r)=>{let a=t.splitTextToSize(`${r+1}. ${e.text}`,160),d=8*(e.options?.length||0);s+6*a.length+d+20>267&&(t.addPage(),n(),s=25),t.setFont("helvetica","bold"),t.setFontSize(12),t.setTextColor(...i),t.text(a,20,s),s+=6*a.length+5,e.options?(t.setFont("helvetica","normal"),t.setFontSize(11),e.options.forEach((e,r)=>{t.setTextColor(...l),t.text(String.fromCharCode(65+r)+")",25,s),t.setTextColor(...i),t.text(t.splitTextToSize(e,150),35,s),s+=8})):(t.setDrawColor(...o),t.line(25,s+5,185,s+5),s+=15),s+=10}),t.addPage(),n(),s=30,t.setFont("helvetica","bold"),t.setFontSize(18),t.setTextColor(...a),t.text("ANSWER KEY",20,s),s+=15,t.setFontSize(11),e.questions.forEach((e,r)=>{s>277&&(t.addPage(),n(),s=25),t.setFont("helvetica","bold"),t.setTextColor(...i),t.text(`${r+1}: `,20,s),t.setFont("helvetica","normal"),t.setTextColor(...a),t.text(String(e.correctAnswer),30,s),s+=8});let d=t.internal.pages.length-1;for(let e=1;e<=d;e++)t.setPage(e),n(e,d);t.save(`assessment_${e.title?.replace(/\s+/g,"_").toLowerCase()||"exam"}.pdf`)}},99776:(e,t,s)=>{s.d(t,{A:()=>N});var r=s(95155),a=s(12115),i=s(86277),l=s(50807),o=s(46424),n=s(14858),d=s(54045),c=s(66609),x=s(80723),h=s(52484),u=s(62791),g=s(6962),m=s(7915),p=s(98500),b=s.n(p);s(28393);var v=s(98126),f=s(5669);let N=({quizData:e,topic:t,onBack:s,existingQuizId:p})=>{let N,j,k,y,[w,S]=(0,a.useState)({}),[C,T]=(0,a.useState)(!1),[z,F]=(0,a.useState)(0),[$,_]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)(1),[L,O]=(0,a.useState)([]),[W,q]=(0,a.useState)(10),[I,M]=(0,a.useState)(!1),[R,U]=(0,a.useState)(0),[J,Z]=(0,a.useState)(!1),[Q,V]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=p||e._id;if(t){let e=`quiz_completed_${t}`,s=localStorage.getItem(e);s&&(F(parseInt(s)),T(!0),_(!0))}E(!0)},[e._id,p]),(0,a.useEffect)(()=>{e.questions&&e.questions.length>0&&(O(e.questions.slice(0,10)),q(e.questions.length),U(2*e.questions.length*60),Z(!0))},[e.questions]),(0,a.useEffect)(()=>{let e;return J&&R>0&&!C&&(e=setInterval(()=>{U(e=>e<=1?(K(),0):e-1)},1e3)),()=>clearInterval(e)},[J,R,C]),(0,a.useEffect)(()=>{if(L.length>0){V(!1);let e=setTimeout(()=>V(!0),50);return()=>clearTimeout(e)}},[L]);let Y=(e,t)=>{S(s=>({...s,[e]:t}))},B=async t=>{let s=Math.min((t-1)*10+10,W);if(!(L.length>=s)&&e.questions&&e.questions.length>=s){M(!0),await new Promise(e=>setTimeout(e,800));let t=e.questions.slice(L.length,s);O(e=>[...e,...t]),M(!1)}},G=e=>{D(e),B(e)},K=async()=>{let t=0;L.forEach(e=>{JSON.stringify(w[e._id])===JSON.stringify(e.correctAnswer)&&(t+=e.points)}),F(t),T(!0),_(!0),Z(!1);let s=p||e._id;if(s){let e=`quiz_completed_${s}`;localStorage.setItem(e,t.toString())}s&&"string"==typeof s&&s.length>0&&/^[a-f\d]{24}$/i.test(s)?(console.log("Saving performance for quiz ID:",s),(0,f.Ud)(`/api/quizzes/${s}/performance`,{method:"POST",body:JSON.stringify({score:t,totalMarks:L.reduce((e,t)=>e+t.points,0),answers:w})}).then(async e=>{if(e.ok)console.log("Performance data saved successfully");else{let t=await e.json().catch(()=>({}));console.error("Failed to save performance data:",e.status,e.statusText,t)}}).catch(e=>{console.error("Error saving performance:",e)})):console.warn("Quiz ID not available or invalid, skipping performance save"),c.oR.success(`Test completed! Your score is ${t}.`)};if(!e||!e.questions)return(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading test..."})});let H=e.questions.reduce((e,t)=>e+t.points,0);return(0,r.jsx)("div",{className:`p-4 sm:p-8 lg:p-12 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-gray-900 dark:text-white min-h-screen transition-opacity duration-700 ${A?"opacity-100":"opacity-0"}`,children:(0,r.jsxs)("div",{className:"max-w-full mx-auto",children:[s?(0,r.jsxs)("button",{onClick:s,className:"flex items-center text-sm text-blue-500 hover:underline mb-4",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-1"}),"Back to Tests"]}):(0,r.jsxs)(b(),{href:"/dashboard?tab=quizzes",className:"flex items-center text-sm text-blue-500 hover:underline mb-4",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-1"}),"Back to Tests"]}),(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-8",children:e.title}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl p-6 text-center",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[L.length,"/",W]}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loaded Questions"})]}),(0,r.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:L.reduce((e,t)=>e+t.points,0)}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Points"})]}),(0,r.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl p-6 text-center",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[Object.keys(w).length,"/",L.length]}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Questions Answered"})]}),(0,r.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl p-6 text-center",children:[(0,r.jsx)("div",{className:`text-3xl font-bold mb-2 ${R<300?"text-red-600":"text-slate-800 dark:text-slate-100"}`,children:(N=Math.floor(R/3600),j=Math.floor(R%3600/60),k=R%60,N>0?`${N}:${j.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`:`${j}:${k.toString().padStart(2,"0")}`)}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Time Remaining"})]})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-2",children:[(0,r.jsxs)("span",{children:["Progress (Page ",P,")"]}),(0,r.jsxs)("span",{children:[Math.round(Object.keys(w).length/L.length*100),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full transition-all duration-300",style:{width:`${Object.keys(w).length/L.length*100}%`}})})]})]}),(0,r.jsx)(l.Zp,{className:"bg-white/80 dark:bg-gray-800/90 backdrop-blur-sm",children:(0,r.jsxs)(l.Wu,{className:"space-y-12",children:[(0,r.jsx)("div",{className:"space-y-10",children:(y=(P-1)*10,L.slice(y,y+10)).map((e,t)=>{let s=(P-1)*10+t;return(0,r.jsxs)("div",{className:`sm:p-4 bg-white dark:bg-gray-800/50 transition-opacity duration-500 ${Q?"opacity-100":"opacity-0"}`,children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-6",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-lg",children:s+1}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100 leading-relaxed mb-2 select-none",children:e.text}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[(0,r.jsxs)("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-700 rounded-full font-medium",children:[e.points," point",1!==e.points?"s":""]}),(0,r.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full font-medium capitalize",children:e.type.replace("-"," ")})]})]})]}),"multiple-choice"===e.type?(0,r.jsx)(o.z,{onValueChange:t=>Y(e._id,t),disabled:C,className:"space-y-3",children:e.options.map((t,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-blue-300 dark:hover:border-blue-500 transition-all duration-200 group cursor-pointer",children:[(0,r.jsx)(o.C,{value:t,id:`${e._id}-${t}`,className:"w-5 h-5 text-blue-600"}),(0,r.jsxs)(d.J,{htmlFor:`${e._id}-${t}`,className:"flex-1 cursor-pointer text-slate-700 dark:text-slate-300 text-xs italic leading-relaxed group-hover:text-slate-900 dark:group-hover:text-slate-100 select-none",children:[(0,r.jsxs)("span",{className:"font-medium mr-2 text-slate-500 dark:text-slate-400",children:[String.fromCharCode(65+s),"."]}),t]})]},t))}):"true-false"===e.type?(0,r.jsx)(o.z,{onValueChange:t=>Y(e._id,t),disabled:C,className:"space-y-3",children:e.options.map((t,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-green-300 dark:hover:border-green-500 transition-all duration-200 group cursor-pointer",children:[(0,r.jsx)(o.C,{value:t,id:`${e._id}-${t}`,className:"w-5 h-5 text-green-600"}),(0,r.jsxs)(d.J,{htmlFor:`${e._id}-${t}`,className:"flex-1 cursor-pointer text-slate-700 dark:text-slate-300 text-xs italic leading-relaxed group-hover:text-slate-900 dark:group-hover:text-slate-100 select-none",children:[(0,r.jsxs)("span",{className:"font-medium mr-2 text-slate-500 dark:text-slate-400",children:[String.fromCharCode(65+s),"."]}),t]})]},t))}):(0,r.jsx)("div",{className:"space-y-3",children:e.options.map((t,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-purple-300 dark:hover:border-purple-500 transition-all duration-200 group cursor-pointer",children:[(0,r.jsx)(n.S,{id:`${e._id}-${t}`,onCheckedChange:s=>{let r=w[e._id]||[],a=s?[...r,t]:r.filter(e=>e!==t);Y(e._id,a)},disabled:C,className:"w-5 h-5 text-purple-600"}),(0,r.jsxs)(d.J,{htmlFor:`${e._id}-${t}`,className:"flex-1 cursor-pointer text-slate-700 dark:text-slate-300 text-xs italic leading-relaxed group-hover:text-slate-900 dark:group-hover:text-slate-100 select-none",children:[(0,r.jsxs)("span",{className:"font-medium mr-2 text-slate-500 dark:text-slate-400",children:[String.fromCharCode(65+s),"."]}),t]})]},t))}),C&&(0,r.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm",children:JSON.stringify(w[e._id])===JSON.stringify(e.correctAnswer)?(0,r.jsxs)("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[(0,r.jsx)(h.A,{className:"w-5 h-5 mr-2"}),"Correct!"]}):(0,r.jsxs)("div",{className:"flex items-center text-red-600 dark:text-red-400",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Incorrect. Correct answer:"," ",(0,r.jsx)("span",{className:"select-none",children:Array.isArray(e.correctAnswer)?e.correctAnswer.join(", "):e.correctAnswer})]})})]},`question-${s}`)})}),C?(0,r.jsxs)("div",{className:"mt-8 text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Test Complete!"}),(0,r.jsxs)("p",{className:"text-xl mt-2",children:["Your score:"," ",(0,r.jsx)("span",{className:"font-bold text-blue-500",children:z})," /"," ",H]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mt-6",children:[(0,r.jsx)(i.$,{onClick:()=>{if(S({}),T(!1),_(!1),F(0),D(1),O(e.questions.slice(0,10)),q(e.questions.length),U(2*e.questions.length*60),Z(!0),e._id){let t=`quiz_completed_${e._id}`;localStorage.removeItem(t)}},variant:"outline",children:"Retake Test"}),(0,r.jsxs)(i.$,{onClick:()=>(0,v.I)(e),variant:"secondary",className:"bg-indigo-600 hover:bg-indigo-700 text-white border-none transition-all shadow-md hover:shadow-lg",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Download Exam"]}),(0,r.jsxs)(i.$,{onClick:()=>_(!$),children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-2"}),$?"Hide Review":"Review Answers"]})]})]}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,r.jsx)(i.$,{onClick:()=>G(P-1),disabled:1===P||I,variant:"outline",size:"sm",children:"Previous"}),(0,r.jsx)("div",{className:"flex space-x-2",children:Array.from({length:Math.ceil(W/10)},(e,t)=>t+1).map(e=>(0,r.jsx)(i.$,{onClick:()=>G(e),variant:P===e?"default":"outline",size:"sm",disabled:I,className:"w-10 h-10",children:e},e))}),(0,r.jsx)(i.$,{onClick:()=>G(P+1),disabled:P===Math.ceil(W/10)||I,variant:"outline",size:"sm",children:"Next"})]}),I&&(0,r.jsx)("div",{className:"space-y-10",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"p-8 bg-white dark:bg-gray-800/50 rounded-2xl border border-slate-200/50 dark:border-gray-700 animate-pulse",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-6",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-xl"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-5 bg-gray-300 dark:bg-gray-600 rounded mb-3"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"h-6 w-16 bg-gray-300 dark:bg-gray-600 rounded-full"}),(0,r.jsx)("div",{className:"h-6 w-20 bg-gray-300 dark:bg-gray-600 rounded-full"})]})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-xl border-2 border-slate-200 dark:border-slate-600",children:[(0,r.jsx)("div",{className:"w-5 h-5 bg-gray-300 dark:bg-gray-600 rounded"}),(0,r.jsx)("div",{className:"flex-1 h-4 bg-gray-300 dark:bg-gray-600 rounded"})]},t))})]},`skeleton-${t}`))}),(0,r.jsxs)("div",{className:"flex justify-center space-x-6",children:[(0,r.jsx)(b(),{href:"/dashboard?tab=quizzes",children:(0,r.jsx)(i.$,{variant:"outline",size:"lg",className:"px-10 py-4 text-lg border-2 border-slate-300 hover:border-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all duration-200 rounded-xl font-medium",children:"Cancel"})}),(0,r.jsx)(i.$,{onClick:K,size:"lg",className:"px-10 py-4 text-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white hover:shadow-xl transition-all duration-200 rounded-xl font-semibold",children:"Submit Assessment"})]})]})]})})]})})}}}]);