(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9413],{5669:(e,t,r)=>{"use strict";r.d(t,{Ud:()=>i,e9:()=>l});var a=r(41463);let s=!!window.Capacitor||"capacitor:"===window.location.protocol||"localhost"===window.location.hostname&&"3000"!==window.location.port&&"3001"!==window.location.port;console.log("[Actinova] Environment:",{origin:window.origin,isCapacitor:s,protocol:window.location.protocol,host:window.location.host});let o=a.env.NEXT_PUBLIC_API_URL||"https://actinovatutorapp.vercel.app";function l(e){if(!e)return o;if(e.startsWith("http://")||e.startsWith("https://"))return e;let t=e.startsWith("/")?e:`/${e}`;return s?`${o}${t}`:t}async function i(e,t={}){let r=l(e),a={"Content-Type":"application/json",...t.headers};if(s){let e=localStorage.getItem("auth_token");return e&&(a.Authorization=`Bearer ${e}`),fetch(r,{...t,headers:a,credentials:"omit"})}return fetch(r,{...t,headers:a,credentials:"include"})}console.log("[Actinova] API_BASE_URL configured as:",o)},7915:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9217:(e,t,r)=>{Promise.resolve().then(r.bind(r,15503))},15411:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},15503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(95155),s=r(12115),o=r(73321),l=r(98500),i=r.n(l),n=r(5669),d=r(25777),c=r(92289),u=r(15411),m=r(7915),h=r(80723),x=r(66609);function g(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[p,b]=(0,s.useState)(""),[f,w]=(0,s.useState)(!1),[k,v]=(0,s.useState)(1),[j,N]=(0,s.useState)(!1),[A,C]=(0,s.useState)(!1),P=(0,o.useRouter)(),S=async t=>{t.preventDefault(),w(!0);try{if(1===k){if(!e)return void x.toast.error("Please enter your email address");let t=await (0,n.Ud)("/api/forgot-password",{method:"POST",body:JSON.stringify({email:e})}),r=await t.json();t.ok?(v(2),x.toast.success(r.message),r.code&&setTimeout(()=>{x.toast.info(`Development mode: Your reset code is ${r.code}`,{duration:1e4})},1e3)):x.toast.error(r.error||"Something went wrong")}else if(2===k){if(!r||6!==r.length)return void x.toast.error("Please enter a valid 6-digit code");let t=await (0,n.Ud)("/api/verify-reset-code",{method:"POST",body:JSON.stringify({email:e,code:r})}),a=await t.json();t.ok?(v(3),x.toast.success("Code verified successfully")):x.toast.error(a.error||"Invalid code")}else if(3===k){if(!g)return void x.toast.error("Please enter a new password");if(g!==p)return void x.toast.error("Passwords don't match");if(g.length<8)return void x.toast.error("Password must be at least 8 characters long");let t=await (0,n.Ud)("/api/reset-password",{method:"POST",body:JSON.stringify({email:e,code:r,password:g})}),a=await t.json();t.ok?(x.toast.success("Password reset successfully! Please sign in."),P.push("/auth/login")):x.toast.error(a.error||"Something went wrong")}}catch(e){x.toast.error("Server error. Please try again.")}finally{w(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-6 sm:py-12 px-4 sm:px-6 lg:px-8 pt-safe-top pb-safe-bottom",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-8",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${k>=e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:e}),e<3&&(0,a.jsx)("div",{className:`w-12 h-0.5 mx-2 ${k>e?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`})]},e))}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-16 w-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:[1===k&&"Forgot Password?",2===k&&"Enter Reset Code",3===k&&"Create New Password"]}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[1===k&&"Enter your email address and we'll send you a reset code.",2===k&&`We've sent a 6-digit code to ${e}. Enter it below.`,3===k&&"Enter your new password below."]})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:S,children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 py-8 px-6 shadow-lg rounded-lg",children:(0,a.jsxs)("div",{className:"space-y-6",children:[1===k&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email address"})]})]}),2===k&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reset Code"}),(0,a.jsx)("input",{id:"code",name:"code",type:"text",required:!0,value:r,onChange:e=>l(e.target.value.replace(/\D/g,"").slice(0,6)),className:"block w-full text-center text-2xl tracking-widest border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"000000",maxLength:6}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Enter the 6-digit code sent to your email"})]}),3===k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"password",name:"password",type:j?"text":"password",autoComplete:"new-password",required:!0,value:g,onChange:e=>y(e.target.value),className:"block w-full pl-10 pr-10 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your new password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>N(!j),children:j?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:A?"text":"password",autoComplete:"new-password",required:!0,value:p,onChange:e=>b(e.target.value),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Confirm your new password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>C(!A),children:A?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Password Requirements:"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,a.jsx)("li",{children:"• At least 8 characters long"}),(0,a.jsx)("li",{children:"• Contains uppercase and lowercase letters"}),(0,a.jsx)("li",{children:"• Contains at least one number"}),(0,a.jsx)("li",{children:"• Contains at least one special character (@$!%*?&)"})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[k>1&&(0,a.jsx)("button",{type:"button",onClick:()=>v(k-1),className:"flex-1 py-3 px-4 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back"}),(0,a.jsx)("button",{type:"submit",disabled:f,className:"flex-1 py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})}):(0,a.jsxs)(a.Fragment,{children:[1===k&&"Send Reset Code",2===k&&"Verify Code",3===k&&"Reset Password"]})})]})]})}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)(i(),{href:"/auth/login",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Back to Sign In"]}),1===k&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Remember your password?"," ",(0,a.jsx)(i(),{href:"/auth/login",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 font-medium",children:"Sign in here"})]})]})]})]})})}},25777:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},73321:(e,t,r)=>{"use strict";var a=r(74645);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},78340:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:d,...c},u)=>(0,a.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:o("lucide",i),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),n=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...l},n)=>(0,a.createElement)(i,{ref:n,iconNode:t,className:o(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...l}));return r.displayName=s(e),r}},80723:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},92289:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])}},e=>{e.O(0,[6609,8500,8441,3794,7358],()=>e(e.s=9217)),_N_E=e.O()}]);