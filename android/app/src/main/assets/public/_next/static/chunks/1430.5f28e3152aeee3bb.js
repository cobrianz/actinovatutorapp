"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1430],{1430:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(95155);a(12115);var s=a(78340);let i=(0,s.A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),d=(0,s.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var n=a(6962),c=a(30913),l=a(28393),o=a(66609);function g({billingHistory:e,theme:t}){let{user:a}=(0,l.h)(),s=a?.firstName?`${a.firstName} ${a.lastName}`:a?.name||"Scholar";if(!e||0===e.length)return(0,r.jsxs)("div",{className:`p-8 rounded-2xl border border-dashed text-center ${"dark"===t?"bg-gray-800/20 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[(0,r.jsx)(i,{size:32,className:"mx-auto mb-3 opacity-20"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-tighter",children:"No transactions found"})]});let g=async e=>{try{o.toast.loading("Generating receipt..."),await (0,c.D6)(e,s),o.toast.dismiss(),o.toast.success("Receipt downloaded")}catch(e){console.error("Download failed",e),o.toast.dismiss(),o.toast.error("Failed to download receipt")}};return(0,r.jsx)("div",{className:"space-y-3",children:e.sort((e,t)=>new Date(t.paidAt)-new Date(e.paidAt)).map((e,a)=>(0,r.jsxs)("div",{className:`p-4 rounded-2xl border ${"dark"===t?"bg-gray-800 border-gray-700 hover:bg-gray-700/50":"bg-white border-gray-100 hover:bg-gray-50"} flex items-center justify-between transition-colors`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${"dark"===t?"bg-gray-700 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:(0,r.jsx)(d,{size:18})}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsxs)("div",{className:"text-sm font-bold tracking-tight uppercase",children:[e.plan," ",e.billingCycle]}),(0,r.jsx)("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-0.5",children:new Date(e.paidAt||e.date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-sm font-black text-indigo-600 dark:text-indigo-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency||"USD"}).format(e.amount)}),(0,r.jsx)("div",{className:"text-[9px] font-bold text-emerald-500 uppercase tracking-widest mt-0.5",children:"Success"})]}),(0,r.jsx)("button",{onClick:()=>g(e),className:`p-2 rounded-xl transition-all active:scale-95 flex items-center justify-center ${"dark"===t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:"Download Receipt",children:(0,r.jsx)(n.A,{size:18})})]})]},e.reference||a))})}}}]);