"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5308],{56376:(e,t,r)=>{r.d(t,{A:()=>L});var a=r(95155),s=r(12115),l=r(51914),i=r(61878),n=r(97810),o=r(48368),d=r(94961),c=r(92564),g=r(31069),u=r(53961),h=r(33210),m=r(42869),x=r(36999),f=r(51900),y=r(41313),b=r(21362),p=r(41641),k=r(80642),v=r(9673),w=r(71552),j=r(28393),N=r(5669),E=r(73321),A=r(66609);function L({activeContent:e,setActiveContent:t,isOpen:r,setIsOpen:L}){let{theme:C,toggleTheme:P}=(0,w.D)(),{user:z,logout:S}=(0,j.h)(),I=(0,E.useRouter)();(0,E.usePathname)();let[T,$]=(0,s.useState)(!1),M=[{id:"generate",label:"New",icon:l.A,color:"text-blue-500"},{id:"explore",label:"Explore",icon:i.A,color:"text-emerald-500"},{id:"library",label:"Library",icon:n.A,color:"text-indigo-500"},{id:"flashcards",label:"Flashcards",icon:o.A,color:"text-rose-500"},{id:"quizzes",label:"Test Yourself",icon:d.A,color:"text-orange-500"},{id:"chat",label:"AI Chat",icon:c.A,color:"text-purple-500"},{id:"staff-picks",label:"Premium",icon:g.A,color:"text-amber-500"},{id:"upgrade",label:"Upgrade",icon:u.A,color:"text-blue-600"}],W=async()=>{try{await fetch((0,N.e9)("/api/logout"),{method:"POST"}),S(),A.oR.success("Logged out successfully"),I.push("/")}catch(e){console.error("Logout error:",e),S(),I.push("/")}};(0,s.useEffect)(()=>{let e=0,t=0,a=r=>{e=r.touches[0].clientX,t=r.touches[0].clientY},s=a=>{if(r)return;let s=a.changedTouches[0].clientX,l=a.changedTouches[0].clientY,i=s-e,n=l-t;e<.3*window.innerWidth&&i>70&&50>Math.abs(n)&&L(!0)};return window.addEventListener("touchstart",a,{passive:!0}),window.addEventListener("touchend",s,{passive:!0}),()=>{window.removeEventListener("touchstart",a),window.removeEventListener("touchend",s)}},[r,L]);let _=T?"w-20":"w-64";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 w-12 z-50 lg:hidden",onMouseEnter:()=>!r&&L(!0)}),(0,a.jsx)(k.N,{children:r&&(0,a.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>L(!1),className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60] lg:hidden"})}),(0,a.jsxs)(v.P.aside,{initial:!1,animate:r?"open":"closed",variants:{open:{x:0,opacity:1},closed:{x:"-100%",opacity:0}},drag:"x",dragConstraints:{left:-300,right:0},dragElastic:.1,onDragEnd:(e,t)=>{t.offset.x<-100&&L(!1),t.offset.x>100&&L(!0)},transition:{type:"spring",damping:25,stiffness:200},className:`fixed inset-y-0 left-0 z-[70] bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col transition-all duration-300 lg:relative lg:translate-x-0 lg:opacity-100 ${_}`,children:[(0,a.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:`flex items-center gap-3 overflow-hidden ${T?"lg:justify-center lg:w-full":""}`,children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-xl flex items-center justify-center shrink-0",children:(0,a.jsx)("img",{src:"/logo.png",alt:"Actinova",className:"w-full h-full object-contain"})}),!T&&(0,a.jsx)("span",{className:"font-black text-xl tracking-tight text-gray-900 dark:text-white",children:"Actinova"})]}),(0,a.jsx)("button",{onClick:()=>L(!1),className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl",children:(0,a.jsx)(h.A,{size:20})})]}),(0,a.jsx)("div",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto no-scrollbar",children:M.map(r=>{let s=e===r.id;return(0,a.jsxs)("button",{onClick:()=>{t(r.id),window.innerWidth<1024&&L(!1)},className:`w-full flex items-center gap-4 px-4 py-3 rounded-2xl transition-all duration-200 group relative ${s?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800/50 hover:text-gray-900 dark:hover:text-gray-100"} ${T?"lg:justify-center lg:px-0":""}`,children:[(0,a.jsx)("div",{className:`${s?r.color:"text-gray-400 dark:text-gray-500 group-hover:text-gray-900 dark:group-hover:text-gray-100"}`,children:(0,a.jsx)(r.icon,{size:22,strokeWidth:s?2.5:2})}),!T&&(0,a.jsx)("span",{className:`font-bold text-sm ${s?"translate-x-1":""} transition-transform`,children:r.label}),s&&!T&&(0,a.jsx)(v.P.div,{layoutId:"activePill",className:"absolute inset-y-2 left-0 w-1 bg-blue-600 rounded-full"}),T&&s&&(0,a.jsx)("div",{className:"absolute inset-y-3 right-0 w-0.5 bg-blue-600 rounded-full"})]},r.id)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>{t("profile"),window.innerWidth<1024&&L(!1)},className:`w-full flex items-center gap-3 p-3 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all ${T?"lg:justify-center lg:p-2":""}`,children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white shrink-0 shadow-lg shadow-blue-500/10",children:(0,a.jsx)(m.A,{size:20})}),!T&&(0,a.jsxs)("div",{className:"flex-1 text-left overflow-hidden",children:[(0,a.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-white truncate",children:z?.firstName||z?.name||"Premium User"}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"View Profile"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:P,className:`flex-1 flex items-center justify-center p-3 rounded-2xl bg-gray-50 dark:bg-gray-800/50 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-all ${T?"lg:p-3":""}`,children:"light"===C?(0,a.jsx)(x.A,{size:20}):(0,a.jsx)(f.A,{size:20})}),(0,a.jsx)("button",{onClick:W,className:`flex-1 flex items-center justify-center p-3 rounded-2xl bg-gray-50 dark:bg-gray-800/50 text-gray-500 dark:text-gray-400 hover:text-rose-500 transition-all ${T?"lg:p-3":""}`,children:(0,a.jsx)(y.A,{size:20})})]}),(0,a.jsx)("button",{onClick:()=>$(!T),className:"hidden lg:flex w-full items-center justify-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:T?(0,a.jsx)(b.A,{size:20}):(0,a.jsx)(p.A,{size:20})})]})]})]})}r(98500)},71552:(e,t,r)=>{r.d(t,{D:()=>n,ThemeProvider:()=>i});var a=r(95155),s=r(12115);let l=(0,s.createContext)();function i({children:e,initialTheme:t}){let[r,i]=(0,s.useState)(t||"system");return(0,s.useEffect)(()=>{let e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r="system"===t?e():t||localStorage.getItem("theme")||"system";if("system"===r){let t=e();document.documentElement.classList.toggle("dark","dark"===t),i("system")}else i(r),document.documentElement.classList.toggle("dark","dark"===r);if("system"===t||!t&&"system"===localStorage.getItem("theme")){let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{let t=e.matches?"dark":"light";i(t),document.documentElement.classList.toggle("dark","dark"===t)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}if(!t&&!localStorage.getItem("theme")){let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{let t=e.matches?"dark":"light";document.documentElement.classList.toggle("dark","dark"===t)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}},[t]),(0,a.jsx)(l.Provider,{value:{theme:r,toggleTheme:()=>{let e="light"===("system"===r?document.documentElement.classList.contains("dark")?"dark":"light":r)?"dark":"light";i(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e)},setThemePreference:e=>{if("system"===e){let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i("system"),localStorage.setItem("theme","system"),document.documentElement.classList.toggle("dark","dark"===e)}else i(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e)}},children:e})}let n=()=>{let e=(0,s.useContext)(l);return e||{theme:"light",toggleTheme:()=>{},setThemePreference:()=>{}}}},72773:(e,t,r)=>{r.d(t,{default:()=>n});var a=r(95155),s=r(28393),l=r(73321),i=r(12115);function n({children:e}){let{user:t,loading:r}=(0,s.h)(),n=(0,l.useRouter)(),o=(0,l.usePathname)();return((0,i.useEffect)(()=>{if(!r){if(!(["/auth/login","/auth/signup","/auth/verify-email","/auth/forgot-password","/auth/reset-password"].includes(o)||o?.startsWith("/auth/"))){if(!t)return void n.push("/auth/login");if(!t.emailVerified&&"/auth/verify-email"!==o&&!o?.startsWith("/auth/")){t.email&&localStorage.setItem("pendingVerificationEmail",t.email),n.push("/auth/verify-email");return}if("/auth/verify-email"!==o&&!1===t.onboardingCompleted&&"/onboarding"!==o)return void n.push("/onboarding")}}},[t,r,n,o]),r)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):t?e:null}}}]);